<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Track Package - X-Cargo Express</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    img { max-width: 100%; height: auto; margin-top: 10px; }
    .not-found { color: red; font-weight: bold; }
  </style>
</head>
<body>
  <h2>Track Your Package</h2>

  <div id="trackingResult"></div>

  <script>
    function getTrackingIdFromURL() {
      const params = new URLSearchParams(window.location.search);
      return params.get("id");
    }

    function displayTrackingInfo() {
      const trackingId = getTrackingIdFromURL();
      const data = localStorage.getItem(trackingId);

      const container = document.getElementById("trackingResult");

      if (!trackingId) {
        container.innerHTML = `<p class="not-found">No tracking ID provided. Use: ?id=XCARGO123456GH</p>`;
        return;
      }

      if (!data) {
        container.innerHTML = `<p class="not-found">Tracking ID "${trackingId}" not found.</p>`;
        return;
      }

      const packageData = JSON.parse(data);

      container.innerHTML = `
        <h3>Tracking ID: ${packageData.trackingId}</h3>
        <p><strong>Receiver:</strong> ${packageData.receiver}</p>
        <p><strong>Address:</strong> ${packageData.address}</p>
        <p><strong>Phone:</strong> ${packageData.phone}</p>
        <p><strong>Status:</strong> ${packageData.status}</p>
        <p><strong>Current Location:</strong> ${packageData.location}</p>
        <img src="${packageData.image}" alt="Package Image" />
      `;
    }

    displayTrackingInfo();
  </script>
</body>
</html>
